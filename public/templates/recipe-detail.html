<div class="grid-100 row controls">
  <div class="grid-50">
    <h2 ng-if="!recipe.name">Add/Edit Recipe</h2>
    <h2 ng-if="recipe.name">{{recipe.name}}</h2>
  </div>
  <div class="grid-50">
    <div class="flush-right">
      <button ng-click="setting(true)" ng-if="!editing">Edit Recipe</button>
      <button ng-click="saveRecipe(recipe)" ng-if="editing">Save Recipe</button>
      <button class="secondary" ng-click="cancelBtn()">Cancel</button>
    </div>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Name </label>
    </p>
  </div>
  <div class="grid-40">
    <p>
      <input type="text" ng-model="recipe.name" name="name" ng-if="editing">
      <p ng-if="!editing">{{recipe.name}}</p>
    </p>
  </div>
</div>
<div class="clear"></div>
<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Description </label>
    </p>
  </div>
  <div class="grid-60">
    <p>
      <textarea ng-model="recipe.description" name="description" ng-if="editing"></textarea>
      <p ng-if="!editing">{{recipe.description}}</p>
    </p>
  </div>
</div>
<div class="clear"></div>
<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Category </label>
    </p>
  </div>
  <div class="grid-30">
    <p>
      <select ng-model="recipe.category" ng-init="category[0]"  ng-options="category.name as category.name for category in allCategories" ng-if="editing">
        <option value="">All Categories</option>
      </select>
      <p ng-if="!editing">{{recipe.category}}</p>
    </p>
  </div>
</div>
<div class="clear"></div>
<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Prep Time </label>
    </p>
  </div>
  <div class="grid-20">
    <p>
      <input type="number" ng-model="recipe.prepTime" ng-if="editing">
      <p ng-if="!editing">{{recipe.prepTime}}</p>
    </p>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Cook Time </label>
    </p>
  </div>
  <div class="grid-20">
    <p>
      <input type="number" ng-model="recipe.cookTime" ng-if="editing">
      <p ng-if="!editing">{{recipe.cookTime}}</p>
    </p>
  </div>
</div>
<div class="clear"></div>
<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Ingredients </label>
    </p>
  </div>
  <div class="grid-30">
    <p class="label-spacing">
      <label> Item </label>
    </p>
  </div>
  <div class="grid-30">
    <p class="label-spacing">
      <label> Condition </label>
    </p>
  </div>
  <div class="grid-15">
    <p class="label-spacing">
      <label> Amount </label>
    </p>
  </div>
  <div class="ingredient-row" ng-repeat="ingredient in recipe.ingredients">
    <div class="prefix-20 grid-30">
      <p>
        <select ng-model="ingredient.foodItem" ng-init="foodItem[0]" ng-options="foodItem.name as foodItem.name for foodItem in allFood"  ng-if="editing">
          <option value="">Select Item</option>
        </select>
        <p ng-if="!editing">{{ingredient.foodItem}}</p>
      </p>
    </div>
    <div class="grid-30">
      <p>
        <input type="text" ng-model="ingredient.condition" ng-if="editing">
        <p ng-if="!editing">{{ingredient.condition}}</p>
      </p>
    </div>
    <div class="grid-15">
      <p>
        <input type="text" ng-model="ingredient.amount" ng-if="editing">
        <p ng-if="!editing">{{ingredient.amount}}</p>
      </p>
    </div>
    <div class="grid-5 pad-top">
      <p class="flush-right">
        <a class="no-action-link" ng-click="deleteIngredient($index)" ng-if="editing"> <img src="images/delete.svg" height="12px"> </a>
      </p>
    </div>
  </div>

  <div class="prefix-20 grid-80 add-row">
    <p>
      <button ng-click="addIngredient(recipe)" ng-if="editing">+ Add Another Ingredient</button>
    </p>
  </div>
</div>
<div class="clear"></div>
<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Steps </label>
    </p>
  </div>
  <div class="grid-75">
    <p class="label-spacing">
      <label> Description </label>
    </p>
  </div>
  <div class="step-row" ng-repeat="step in recipe.steps">
    <div class="prefix-20 grid-75">
      <p>
        <input type="text" ng-model="step.description" ng-if="editing">
        <p ng-if="!editing">{{step.description}}</p>
      </p>
    </div>
    <div class="grid-5 pad-top">
      <p class="flush-right">
        <a class="no-action-link" ng-click="deleteStep($index)" ng-if="editing"> <img src="images/delete.svg" height="12px"> </a>
      </p>
    </div>
  </div>

  <div class="prefix-20 grid-80 add-row">
    <p>
     <button ng-click="addStep(recipe)" ng-if="editing">+ Add Another Step</button>
    </p>
  </div>
</div>
<div class="clear"></div>
